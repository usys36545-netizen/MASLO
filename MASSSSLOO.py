# Импортируем необходимые модули из PyQt5 для работы с UI
from PyQt5 import uic
# Импортируем QApplication для запуска приложения и QWidget для создания виджетов
from PyQt5.QtWidgets import QApplication, QWidget
# Импортируем sys для доступа к системным функциям, включая запуск и завершение приложения
import sys


# Основной класс приложения, наследуемый от QWidget
class App(QWidget):
    """
    Класс основного приложения
    Наследуется от QWidget - базового класса для виджетов PyQt
    """
    def __init__(self):
        # Вызываем конструктор родительского класса
        super().__init__()
        # Загружаем UI из файла MASLO.ui
        self.start()
        # Настраиваем обработчик событий для комбобокса
        self.ComboBox()
    
    def start(self):
        """
        Метод для загрузки и отображения UI
        Загружает интерфейс из .ui файла и показывает окно
        """
        # Загружаем интерфейс из файла MASLO.ui
        self.o = uic.loadUi('MASLO.ui')
        # Показываем окно
        self.o.show()
    
    def ComboBox(self):
        """
        Метод для настройки комбобокса (выпадающего списка)
        Подключает обработчик событий для отслеживания изменений выбора
        """
        # Подключаем сигнал activated к обработчику on_combo_activated
        # Это позволяет отслеживать изменения выбора в комбобоксе
        self.o.comboBox.activated.connect(self.on_combo_activated)
    
    def on_combo_activated(self, index):
        """
        Метод-обработчик для событий комбобокса
        Изменяет текст в label в зависимости от выбранного элемента
        
        Args:
            index (int): индекс выбранного элемента в комбобоксе
        """
        # Если выбран 'Начало' (индекс 0), изменяем текст label
        if index == 0:  # 'Начало' находится на 1-й позиции (индекс 0)
            # Устанавливаем HTML-форматированный текст с жирным шрифтом для "Добро пожаловать!"
            self.o.label.setText(
                '<html><head/><body><p>'
                '<span style=" font-size:28pt; font-weight:600;">Добро пожаловать!</span>'
                '<span style=" font-size:28pt;"><br/>Это приложение создано для тех, кто'
                '<br/>только начинает свой путь на кухне — или хочет'
                '<br/>освежить базовые навыки. Здесь вы найдёте понятные'
                '<br/>инструкции, полезные советы и пошаговые рецепты. </span></p>'
                '<p><span style=" font-size:28pt;">Удачи и приятного аппетита!</span></p>'
                '</body></html>'
            )
            # Создаем объект шрифта из текущего шрифта label
            font = self.o.label.font()
            # Устанавливаем размер шрифта
            font.setPointSize(28)
            # Применяем измененный шрифт к label
            self.o.label.setFont(font)

        # Если выбран 'Рис' (индекс 3), изменяем текст label
        elif index == 3:  # 'Рис' находится на 4-й позиции (индекс 3)
            # Устанавливаем тестовый текст для элемента 'Рис'
            self.o.label.setText(
                'Это тестовый текст если вы его видите при конечном (релизом)\n'
                'приложении то сообщите разработчику'
            )
            # Создаем объект шрифта из текущего шрифта label
            font = self.o.label.font()
            # Устанавливаем размер шрифта
            font.setPointSize(20)
            # Применяем измененный шрифт к label
            self.o.label.setFont(font)


# Проверяем, запущен ли скрипт как основная программа
if __name__ == "__main__":
    # Создаем экземпляр QApplication
    app = QApplication(sys.argv)
    # Создаем экземпляр нашего класса App
    ex = App()
    # Запускаем цикл обработки событий приложения
    sys.exit(app.exec_())